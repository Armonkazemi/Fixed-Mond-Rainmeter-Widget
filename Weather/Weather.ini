[Rainmeter]
Update=1000
Author=ApexXx-SenSei 
BackgroundMode=2
SolidColor=0,0,0,0
DynamicWindowSize=1
AccurateText=1
MouseScrollUpAction=[!SetVariable Scale "([#Scale]+0.05)"][!WriteKeyValue Variables Scale "([#Scale]+0.05)"][!UpdateMeter *][!Redraw]
MouseScrollDownAction=[!SetVariable Scale "([#Scale]-0.05 < 0.05 ? 0.05 : [#Scale]-0.05)"][!WriteKeyValue Variables Scale "([#Scale]-0.05 < 0.05 ? 0.05 : [#Scale]-0.05)"][!UpdateMeter *][!Redraw]

ContextTitle=> Fahrenheit
ContextAction=[!WriteKeyValue Variables TempSymbol F "#@#Variables.inc"][!Refresh]
ContextTitle2=> Celsius
ContextAction2=[!WriteKeyValue Variables TempSymbol C "#@#Variables.inc"][!Refresh]

[Variables]
@include=#@#Variables.inc
@include2=#@#Language\Language.inc
Scale=0.71

[MeasureWeather]
Measure=Plugin
Plugin=WebParser
UpdateRate=900
URL=https://api.openweathermap.org/data/2.5/weather?#OWM_QUERY#&units=imperial&appid=#OWM_API_KEY#
RegExp=(?si)"weather"\s*:\s*\[\s*\{\s*"id"\s*:\s*\d+\s*,\s*"main"\s*:\s*"([^"]+)"\s*,\s*"description"\s*:\s*"([^"]+)"\s*,\s*"icon"\s*:\s*"([^"]+)"\s*\}\s*\]\s*,.*?"main"\s*:\s*\{[^}]*?"temp"\s*:\s*([\-0-9\.]+)\s*,\s*"feels_like"\s*:\s*([\-0-9\.]+)\s*,[^}]*?"humidity"\s*:\s*([0-9]+)[^}]*\}\s*,.*?"wind"\s*:\s*\{[^}]*?"speed"\s*:\s*([\-0-9\.]+)[^}]*\}\s*,.*?"sys"\s*:\s*\{[^}]*?"country"\s*:\s*"([A-Za-z]{2})"[^}]*?"sunrise"\s*:\s*([0-9]+)\s*,\s*"sunset"\s*:\s*([0-9]+)[^}]*\}\s*,.*?"timezone"\s*:\s*([\-0-9]+).*?"name"\s*:\s*"([^"]+)"
Debug=0
DynamicVariables=1

[MW_Main]
Measure=Plugin
Plugin=WebParser
URL=[MeasureWeather]
StringIndex=1
DynamicVariables=1

[MW_Desc]
Measure=Plugin
Plugin=WebParser
URL=[MeasureWeather]
StringIndex=2
Substitute=#Conditions#
DynamicVariables=1

[MW_IconCode]
Measure=Plugin
Plugin=WebParser
URL=[MeasureWeather]
StringIndex=3
DynamicVariables=1

[MW_TempF]
Measure=Plugin
Plugin=WebParser
URL=[MeasureWeather]
StringIndex=4
DynamicVariables=1

[MW_FeelsF]
Measure=Plugin
Plugin=WebParser
URL=[MeasureWeather]
StringIndex=5
DynamicVariables=1

[MW_Humidity]
Measure=Plugin
Plugin=WebParser
URL=[MeasureWeather]
StringIndex=6
DynamicVariables=1

[MW_WindMph]
Measure=Plugin
Plugin=WebParser
URL=[MeasureWeather]
StringIndex=7
DynamicVariables=1

[MW_Country]
Measure=Plugin
Plugin=WebParser
URL=[MeasureWeather]
StringIndex=8
Substitute="US":"United States","GB":"United Kingdom","CA":"Canada","AU":"Australia","DE":"Germany","FR":"France","IT":"Italy","ES":"Spain","JP":"Japan","CN":"China","IN":"India","BR":"Brazil","MX":"Mexico","RU":"Russia","KR":"South Korea","NL":"Netherlands","SE":"Sweden","NO":"Norway","DK":"Denmark","FI":"Finland","PL":"Poland","BE":"Belgium","CH":"Switzerland","AT":"Austria","IE":"Ireland","NZ":"New Zealand","SG":"Singapore","HK":"Hong Kong","TW":"Taiwan","TH":"Thailand","MY":"Malaysia","ID":"Indonesia","PH":"Philippines","VN":"Vietnam","ZA":"South Africa","EG":"Egypt","NG":"Nigeria","KE":"Kenya","AR":"Argentina","CL":"Chile","CO":"Colombia","PE":"Peru","VE":"Venezuela","UA":"Ukraine","TR":"Turkey","SA":"Saudi Arabia","AE":"United Arab Emirates","IL":"Israel","GR":"Greece","PT":"Portugal","CZ":"Czech Republic","HU":"Hungary","RO":"Romania","BG":"Bulgaria","HR":"Croatia","SK":"Slovakia","SI":"Slovenia","LT":"Lithuania","LV":"Latvia","EE":"Estonia","IS":"Iceland","LU":"Luxembourg","MT":"Malta","CY":"Cyprus"
DynamicVariables=1

[MW_SunriseRaw]
Measure=Plugin
Plugin=WebParser
URL=[MeasureWeather]
StringIndex=9
DynamicVariables=1

[MW_SunsetRaw]
Measure=Plugin
Plugin=WebParser
URL=[MeasureWeather]
StringIndex=10
DynamicVariables=1

[MW_Timezone]
Measure=Plugin
Plugin=WebParser
URL=[MeasureWeather]
StringIndex=11
DynamicVariables=1

[MW_City]
Measure=Plugin
Plugin=WebParser
URL=[MeasureWeather]
StringIndex=12
DynamicVariables=1

[MeasureTempRounded]
Measure=Calc
Formula=Round([MW_TempF])
DynamicVariables=1

[MeasureFeelsRounded]
Measure=Calc
Formula=Round([MW_FeelsF])
DynamicVariables=1

[MeasureWindRounded]
Measure=Calc
Formula=Round([MW_WindMph])
DynamicVariables=1

[MeasureTempCelsius]
Measure=Calc
Formula=Round(([MW_TempF]-32)*5/9)
DynamicVariables=1

[MeasureSunriseLocal]
Measure=Calc
Formula=([MW_SunriseRaw]+[MW_Timezone])
DynamicVariables=1

[MeasureSunsetLocal]
Measure=Calc
Formula=([MW_SunsetRaw]+[MW_Timezone])
DynamicVariables=1

[MeasureSunrise]
Measure=Time
TimeStamp=[MeasureSunriseLocal]
Format=%#I:%M %p
DynamicVariables=1

[MeasureSunset]
Measure=Time
TimeStamp=[MeasureSunsetLocal]
Format=%#I:%M %p
DynamicVariables=1

[MeasureIconFile]
Measure=String
String=[MW_IconCode]
RegExpSubstitute=1
Substitute="01d":"clear_day","01n":"clear_night","02d":"partly_cloudy_day","02n":"partly_cloudy_night","03d":"cloudy","03n":"cloudy","04d":"cloudy","04n":"cloudy","09d":"rain","09n":"rain","10d":"rain","10n":"rain","11d":"thunderstorm","11n":"thunderstorm","13d":"snow","13n":"snow","50d":"fog","50n":"fog"
DynamicVariables=1

[MeterWeatherIcon]
Meter=Image
ImageName=[MeasureIconFile].png
Path=#@#WeatherIcons\
X=0
Y=0
W=(150*#Scale#)
AntiAlias=1
DynamicVariables=1

[MeterLocation]
Meter=String
Text=[MW_City], [MW_Country]
StringAlign=Left
StringCase=Upper
FontFace=Aquatico
FontColor=#Color1#
FontSize=(28*#Scale#)
X=(150*#Scale#)
Y=(40*#Scale#)
AntiAlias=1
DynamicVariables=1

[MeterCurrentCond]
Meter=String
Text=[MW_Desc] [MeasureTempRounded] #TempSymbol#
StringAlign=Left
StringCase=Upper
FontFace=Aquatico
FontColor=#Color1#
FontSize=(16*#Scale#)
X=(150*#Scale#)
Y=(80*#Scale#)
AntiAlias=1
DynamicVariables=1

[MeterDetails]
Meter=String
Text=Feels like [MeasureFeelsRounded] - Humidity [MW_Humidity]% - Wind [MeasureWindRounded] mph
StringAlign=Left
StringCase=Upper
FontFace=Aquatico
FontColor=#Color1#
FontSize=(12*#Scale#)
X=(150*#Scale#)
Y=(100*#Scale#)
AntiAlias=1
DynamicVariables=1

[MeterSun]
Meter=String
Text=Sunrise [MeasureSunrise] - Sunset [MeasureSunset]
StringAlign=Left
StringCase=Upper
FontFace=Aquatico
FontColor=#Color1#
FontSize=(12*#Scale#)
X=(150*#Scale#)
Y=(120*#Scale#)
AntiAlias=1
DynamicVariables=1
